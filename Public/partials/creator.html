<div ng-controller="CreatorCtrl" class="container-fluid">
    <div class="row">
        <div ng-repeat="row in userWidgets" droppable drop="handleDrop(droppedRow, droppedItem, draggedRow)" data-widget-row="{{$index}}" class="grid col-xs-4 col-xs-push-0">
            <div class="row" ng-init="rowNumber = $index">
                <div ng-repeat="item in row track by $index" class="col-xs-12">
                    <div draggable drag="handleDrag()" data-widget-row="{{rowNumber}}" data-widget-index="{{$index}}" ng-class="{'panel panel-primary': !hidePanels}">
                        <div class="panel-heading">
                            {{item.name}}
                        </div>
                        <div class="panel-body" ng-include="getWidgetView(item)"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div ng-show="widgetbar.show" class="col-xs-push-1 col-xs-10 widgetbar">
            <div ng-repeat="widget in widgets" draggable drag="handleDrag()" data-widget-index="{{$index}}" class="btn btn-primary">
                {{widget.name}}
            </div>
        </div>
    </div>
    <button ng-click="showWidgetBar()" class="btn btn-fab btn-raised btn-primary open-button">
        <i class="mdi-image-edit"></i>
    </button>
</div>
